import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,a,o as s}from"./app-kXUOvu5Z.js";const n="/assets/20220712-%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF%E6%9D%83%E9%99%90-ChUdO5ko.avif",o="/assets/20220712-%E9%85%8D%E7%BD%AE%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B-CNzWN7EU.avif",r="/assets/20220712-%E6%B7%BB%E5%8A%A0%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-DowPTvxL.avif",p={};function l(c,e){return s(),i("div",null,e[0]||(e[0]=[a('<div class="hint-container tip"><p class="hint-container-title">提示</p><p>宝塔面板实在是太复杂了，研究了两天没搞懂，只能搞个大概的教程，本文仅供参考。</p></div><h2 id="基础环境" tabindex="-1"><a class="header-anchor" href="#基础环境"><span>基础环境</span></a></h2><ul><li>Ubuntu Server 20.04</li><li>宝塔 7.9.2</li></ul><h2 id="上传可执行文件" tabindex="-1"><a class="header-anchor" href="#上传可执行文件"><span>上传可执行文件</span></a></h2><p>上传可执行文件到服务器，上传位置由你自己决定，确保自己能找到，我测试的时候直接上传压缩包，然后用宝塔面板解压没有反应，不知道是我这里的 bug 还是整个宝塔面板都有问题，建议不使用压缩包，直接拖整个文件夹上去。</p><p>上传文件后检查权限，确保有执行权限，貌似宝塔上传的文件默认权限就是 755，这一步大概率可以省略，不放心的话就再检查一遍。</p><p>同时还要注意一下文件所有者，这里记一下，后面会用到，我也不知道宝塔文件所有到底是谁，面板上看是 root，但是使用 <code>ls -lha</code> 命令查看，文件所有者是 www，如果有懂的朋友可以解释一下。</p><figure><img src="'+n+'" alt="宝塔面板权限" tabindex="0" loading="lazy"><figcaption>宝塔面板权限</figcaption></figure><h2 id="修改配置文件" tabindex="-1"><a class="header-anchor" href="#修改配置文件"><span>修改配置文件</span></a></h2><p>修改 <code>appsettings.json</code></p><p>需要修改的部分主要有：</p><ul><li><code>Kestrel.Endpoints.Http.Url</code>: 监听地址和端口，根据需要修改，如果只是在本机反代，无需修改，如果需要在其他机器上反代，可修改为 <code>http://0.0.0.0:5001</code></li><li><code>WithOrigins</code>: 跨域配置，如无跨域限制需求，无需修改。</li><li><code>Admins</code>: 必须修改，配置管理员账户和密码，可配置多个。</li></ul><h2 id="守护进程" tabindex="-1"><a class="header-anchor" href="#守护进程"><span>守护进程</span></a></h2><p>先安装 <code>supervisor</code>，在终端执行</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> supervisor</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>以上命令仅限 Ubuntu 20.04 和 Debian11，其他系统自己去想办法解决。</p><p>然后在宝塔的软件商店找到 <code>Supervisor管理器</code>，安装完成后配置</p><figure><img src="'+o+'" alt="配置守护进程" tabindex="0" loading="lazy"><figcaption>配置守护进程</figcaption></figure><p>注意，截图上的可执行文件路径是错的，别 TM 不思考直接照着抄，错的都看不出来，看教程就是要举一反三，参考教程，根据自己的实际情况做出调整。</p><p>只要状态是 <code>RUNNING</code> 就正常了，其他状态自行排查错误，直接去看子配置文件，配置文件才是能直接看出错误的地方。</p><h2 id="反向代理" tabindex="-1"><a class="header-anchor" href="#反向代理"><span>反向代理</span></a></h2><p>在宝塔面板上创建一个纯静态站点。</p><p>然后设置站点的反向代理。</p><figure><img src="'+r+'" alt="添加反向代理" tabindex="0" loading="lazy"><figcaption>添加反向代理</figcaption></figure><p>注意一下端口号，别跟个 SB 一样，自己改了配置文件里的端口号，这里还是写 5001，你改的什么就用什么。</p><p>不出意外的话到这里教程就完成了。</p>',26)]))}const m=t(p,[["render",l]]),u=JSON.parse('{"path":"/OpenSw/Danmu.Server/install-on-baota.html","title":"在宝塔面板安装","lang":"zh-CN","frontmatter":{"title":"在宝塔面板安装","date":"2022-07-12T21:00:46.000Z","redirectFrom":["/pages/9300a8/"],"description":"提示 宝塔面板实在是太复杂了，研究了两天没搞懂，只能搞个大概的教程，本文仅供参考。 基础环境 Ubuntu Server 20.04 宝塔 7.9.2 上传可执行文件 上传可执行文件到服务器，上传位置由你自己决定，确保自己能找到，我测试的时候直接上传压缩包，然后用宝塔面板解压没有反应，不知道是我这里的 bug 还是整个宝塔面板都有问题，建议不使用压缩包...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"在宝塔面板安装\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-07-12T21:00:46.000Z\\",\\"dateModified\\":\\"2025-06-21T14:30:15.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"MonoLogueChi\\",\\"url\\":\\"https://blog.u2sb.com\\"}]}"],["meta",{"property":"og:url","content":"https://www.u2sb.com/OpenSw/Danmu.Server/install-on-baota.html"}],["meta",{"property":"og:site_name","content":"帅比网"}],["meta",{"property":"og:title","content":"在宝塔面板安装"}],["meta",{"property":"og:description","content":"提示 宝塔面板实在是太复杂了，研究了两天没搞懂，只能搞个大概的教程，本文仅供参考。 基础环境 Ubuntu Server 20.04 宝塔 7.9.2 上传可执行文件 上传可执行文件到服务器，上传位置由你自己决定，确保自己能找到，我测试的时候直接上传压缩包，然后用宝塔面板解压没有反应，不知道是我这里的 bug 还是整个宝塔面板都有问题，建议不使用压缩包..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-21T14:30:15.000Z"}],["meta",{"property":"article:published_time","content":"2022-07-12T21:00:46.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-21T14:30:15.000Z"}]]},"git":{"createdTime":1750516215000,"updatedTime":1750516215000,"contributors":[{"name":"MonoLogueChi","username":"MonoLogueChi","email":"xxwhite@foxmail.com","commits":1,"url":"https://github.com/MonoLogueChi"}]},"readingTime":{"minutes":2.29,"words":687},"filePathRelative":"OpenSw/Danmu.Server/install-on-baota.md","autoDesc":true}');export{m as comp,u as data};
